<html><head> <script> function toggle(id) { var item = document.getElementById(id); item.classList.toggle('hidden'); } </script> <style> @media (min-width: 1366px) { body { max-width: 80%; margin: auto; } } body { font-family: sans-serif; } a { color: #2f838a; } a:hover { color: #333; } em { font-weight: bold; font-style: italic; } h1 { padding: 0.5ex 0.2ex; border-bottom: 2px solid #333; } table { width: 100%; border-spacing: 0; } table tr > th { text-align: left; } table caption { font-weight: bold; padding: 1ex 0.5ex; text-align: left; font-size: 120%; border-bottom: 2px solid #333; } tbody tr:nth-child(odd) { background: rgba(0, 0, 0, 0.08); } tbody tr:hover { background: #ffee99; } thead th { border-bottom: 1px solid #aaa; } table td, table th { padding: 0.5ex; } /* Table 'count' and 'percentage' column */ .t-cnt, .t-pct { width: 5em; } .t-pct { opacity: 0.8; font-style: italic; font-size: 80%; } /* Table bar chart */ .t-bar { height: 0.5ex; margin-top: 0.5ex; background-color: #2f838a; /* rgba(47, 131, 138, 0.2); */ } section, table { margin-bottom: 2em; } #details-link.hidden { display: none; } #details-wrapper.hidden { display: none; } ul.code { margin: 0; padding: 0; } ul.code.hidden { display: none; } ul.code li { display: flex; line-height: 1.4em; font-family: monospace; white-space: nowrap; } ul.code li:nth-child(odd) { background-color: rgba(47, 131, 138, 0.1) } /* Excerpt: Line number */ ul.code .no { width: 5%; min-width: 5em; text-align: right; border-right: 1px solid rgba(47, 131, 138, 0.6); padding-right: 1ex; box-sizing: border-box; } /* Excerpt: Code */ ul.code .cd { padding-left: 1ex; white-space: pre-wrap; box-sizing: border-box; word-wrap: break-word; overflow: hidden; } .hlt { background: #ffee99 !important } .prio { color: #333; float: right; } .indx { padding: 0.5ex 1ex; background-color: #000; color: #fff; text-decoration: none; } .indx:hover { background-color: #2f838a; color: #fff; } /* Problem container */ .prb h3 { padding: 1ex 0.5ex; border-bottom: 2px solid #000; font-size: 95%; margin: 0; } .info-lnk { font-style: italic !important; font-weight: normal !important; text-decoration: none; } .info-lnk.blck { padding: 0.5ex 1ex; background-color: rgba(47, 131, 138, 0.2); } .path-basename { font-weight: bold; } .hlt-info { display: inline-block; padding: 2px 4px; font-style: italic; } .hlt-info.quoted { background-color: #92de71; } .hlt-info.variable { background-color: #a3d2ff; } .hlt-info.method { background-color: #f7c0ff; } .sub-info { padding: 1ex 0.5ex; } /* Handle printer friendly styles */ @media print { body, th { font-size: 10pt; } .hlt-info { padding: 0; background: none; } section, table { margin-bottom: 1em; } h1, h2, h3, table caption { padding: 0.5ex 0.2ex; } .prb h3 { border-bottom: 0.5px solid #aaa; } .t-bar { display: none; } .info-lnk { display: none; } #details-wrapper { display: block !important; font-size: 90% !important; } } </style>
<title>PHPMD Report</title></head><body>

            <header>
                <h1>PHPMD Report</h1>
                Generated at <em>2024-09-13 00:17</em>
                with <a href='https://phpmd.org' target='_blank'>PHP Mess Detector</a>
                on <em>PHP 8.3.11</em>
                on <em>fgsl-550XDA</em>
            </header>
        <h3>91 problems found</h3><h2>Summary</h2><section><table><caption>By priority</caption><thead><tr><th>Count</th><th>%</th><th>Priority</th></tr></thead><tr> <td class='t-cnt'>79</td> <td class='t-pct'>86.8 %</td> <th class='t-n'>Top (1)<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>11</td> <td class='t-pct'>12.1 %</td> <th class='t-n'>Moderate (3)<div class="t-bar" style="width: 13%; opacity: 0.34"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>1.1 %</td> <th class='t-n'>High (2)<div class="t-bar" style="width: 1%; opacity: 0.21"></div></th> </tr></table></section>
<section><table><caption>By namespace</caption><thead><tr><th>Count</th><th>%</th><th>PHP Namespace</th></tr></thead><tr> <td class='t-cnt'>12</td> <td class='t-pct'>70.6 %</td> <th class='t-n'>Librarian\Controller<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>4</td> <td class='t-pct'>23.5 %</td> <th class='t-n'>Librarian\Controller\REST<div class="t-bar" style="width: 33%; opacity: 0.53"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>5.9 %</td> <th class='t-n'>Librarian\Test<div class="t-bar" style="width: 8%; opacity: 0.28"></div></th> </tr></table></section>
<section><table><caption>By rule set</caption><thead><tr><th>Count</th><th>%</th><th>Rule set</th></tr></thead><tr> <td class='t-cnt'>62</td> <td class='t-pct'>68.1 %</td> <th class='t-n'>Clean Code Rules<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>16</td> <td class='t-pct'>17.6 %</td> <th class='t-n'>Controversial Rules<div class="t-bar" style="width: 25%; opacity: 0.46"></div></th> </tr><tr> <td class='t-cnt'>7</td> <td class='t-pct'>7.7 %</td> <th class='t-n'>Unused Code Rules<div class="t-bar" style="width: 11%; opacity: 0.31"></div></th> </tr><tr> <td class='t-cnt'>3</td> <td class='t-pct'>3.3 %</td> <th class='t-n'>Design Rules<div class="t-bar" style="width: 4%; opacity: 0.25"></div></th> </tr><tr> <td class='t-cnt'>3</td> <td class='t-pct'>3.3 %</td> <th class='t-n'>Naming Rules<div class="t-bar" style="width: 4%; opacity: 0.25"></div></th> </tr></table></section>
<section><table><caption>By name</caption><thead><tr><th>Count</th><th>%</th><th>Rule name</th></tr></thead><tr> <td class='t-cnt'>55</td> <td class='t-pct'>60.4 %</td> <th class='t-n'>StaticAccess<div class="t-bar" style="width: 100%; opacity: 1.00"></div></th> </tr><tr> <td class='t-cnt'>16</td> <td class='t-pct'>17.6 %</td> <th class='t-n'>Superglobals<div class="t-bar" style="width: 29%; opacity: 0.49"></div></th> </tr><tr> <td class='t-cnt'>6</td> <td class='t-pct'>6.6 %</td> <th class='t-n'>MissingImport<div class="t-bar" style="width: 10%; opacity: 0.31"></div></th> </tr><tr> <td class='t-cnt'>5</td> <td class='t-pct'>5.5 %</td> <th class='t-n'>UnusedLocalVariable<div class="t-bar" style="width: 9%; opacity: 0.29"></div></th> </tr><tr> <td class='t-cnt'>3</td> <td class='t-pct'>3.3 %</td> <th class='t-n'>ShortVariable<div class="t-bar" style="width: 5%; opacity: 0.25"></div></th> </tr><tr> <td class='t-cnt'>2</td> <td class='t-pct'>2.2 %</td> <th class='t-n'>ExitExpression<div class="t-bar" style="width: 3%; opacity: 0.24"></div></th> </tr><tr> <td class='t-cnt'>2</td> <td class='t-pct'>2.2 %</td> <th class='t-n'>UnusedFormalParameter<div class="t-bar" style="width: 3%; opacity: 0.24"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>1.1 %</td> <th class='t-n'>CouplingBetweenObjects<div class="t-bar" style="width: 1%; opacity: 0.22"></div></th> </tr><tr> <td class='t-cnt'>1</td> <td class='t-pct'>1.1 %</td> <th class='t-n'>UndefinedVariable<div class="t-bar" style="width: 1%; opacity: 0.22"></div></th> </tr></table></section>
<h2 style='page-break-before: always'>Details</h2>
            <a
                id='details-link'
                class='info-lnk blck'
                href='#'
                onclick='toggle("details-link"); toggle("details-wrapper"); return false;'
            >
            Show details &#x25BC;
        </a><div id='details-wrapper' class='hidden'> <section class='prb' id='p-0'> <header> <h3> <a href='#p-0' class='indx'>#1</a> The <span class='hlt-info method'>method redirect()</span> contains an exit expression. <a class='info-lnk' href='https://phpmd.org/rules/design.html#exitexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/AbstractPageController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>AbstractPageController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-0-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-0-code'><li><div class='no'>24</div><div class='cd'>        }</div></li><li><div class='no'>25</div><div class='cd'>        header(&quot;Location: index.php?c=$controller&amp;a=$action&quot; . $parameters);</div></li><li class='hlt'><div class='no'>26</div><div class='cd'>        exit;</div></li><li><div class='no'>27</div><div class='cd'>    } </div></li><li><div class='no'>28</div><div class='cd'>}</div></li></ul> </section>
 <section class='prb' id='p-1'> <header> <h3> <a href='#p-1' class='indx'>#2</a> edit accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-1-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-1-code'><li><div class='no'>24</div><div class='cd'>    }</div></li><li><div class='no'>25</div><div class='cd'></div></li><li class='hlt'><div class='no'>26</div><div class='cd'>    public function edit(): void</div></li><li><div class='no'>27</div><div class='cd'>    {</div></li><li><div class='no'>28</div><div class='cd'>        $code = $_GET[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-2'> <header> <h3> <a href='#p-2' class='indx'>#3</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-2-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-2-code'><li><div class='no'>30</div><div class='cd'>    }</div></li><li><div class='no'>31</div><div class='cd'></div></li><li class='hlt'><div class='no'>32</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>33</div><div class='cd'>    {</div></li><li><div class='no'>34</div><div class='cd'>        $code = $_POST[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-3'> <header> <h3> <a href='#p-3' class='indx'>#4</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-3-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-3-code'><li><div class='no'>30</div><div class='cd'>    }</div></li><li><div class='no'>31</div><div class='cd'></div></li><li class='hlt'><div class='no'>32</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>33</div><div class='cd'>    {</div></li><li><div class='no'>34</div><div class='cd'>        $code = $_POST[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-4'> <header> <h3> <a href='#p-4' class='indx'>#5</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-4-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-4-code'><li><div class='no'>30</div><div class='cd'>    }</div></li><li><div class='no'>31</div><div class='cd'></div></li><li class='hlt'><div class='no'>32</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>33</div><div class='cd'>    {</div></li><li><div class='no'>34</div><div class='cd'>        $code = $_POST[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-5'> <header> <h3> <a href='#p-5' class='indx'>#6</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-5-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-5-code'><li><div class='no'>30</div><div class='cd'>    }</div></li><li><div class='no'>31</div><div class='cd'></div></li><li class='hlt'><div class='no'>32</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>33</div><div class='cd'>    {</div></li><li><div class='no'>34</div><div class='cd'>        $code = $_POST[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-6'> <header> <h3> <a href='#p-6' class='indx'>#7</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;insert&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-6-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-6-code'><li><div class='no'>56</div><div class='cd'>    protected function insert($lastName, $middleName, $firstName): bool</div></li><li><div class='no'>57</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>58</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;); </div></li><li><div class='no'>59</div><div class='cd'>        $dataGateway = &#039;Librarian\Model\\&#039; .  match($storageFormat){</div></li><li><div class='no'>60</div><div class='cd'>            &#039;txt&#039; =&gt; &#039;Filesystem\AuthorPlainText&#039;,</div></li></ul> </section>
 <section class='prb' id='p-7'> <header> <h3> <a href='#p-7' class='indx'>#8</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-7-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-7-code'><li><div class='no'>73</div><div class='cd'>    protected function update($code, $lastName, $middleName, $firstName): bool</div></li><li><div class='no'>74</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>75</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>76</div><div class='cd'>    </div></li><li><div class='no'>77</div><div class='cd'>        $data = [</div></li></ul> </section>
 <section class='prb' id='p-8'> <header> <h3> <a href='#p-8' class='indx'>#9</a> Avoid unused local variables such as &#039;<span class='hlt-info variable'>$data</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedlocalvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-8-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-8-code'><li><div class='no'>75</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>76</div><div class='cd'>    </div></li><li class='hlt'><div class='no'>77</div><div class='cd'>        $data = [</div></li><li><div class='no'>78</div><div class='cd'>            &#039;last_name&#039; =&gt; $lastName,</div></li><li><div class='no'>79</div><div class='cd'>            &#039;middle_name&#039; =&gt; $middleName,</div></li></ul> </section>
 <section class='prb' id='p-9'> <header> <h3> <a href='#p-9' class='indx'>#10</a> delete accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-9-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-9-code'><li><div class='no'>98</div><div class='cd'>    }</div></li><li><div class='no'>99</div><div class='cd'></div></li><li class='hlt'><div class='no'>100</div><div class='cd'>    public function delete()</div></li><li><div class='no'>101</div><div class='cd'>    {</div></li><li><div class='no'>102</div><div class='cd'>        $code = $_GET[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-10'> <header> <h3> <a href='#p-10' class='indx'>#11</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;remove&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-10-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-10-code'><li><div class='no'>113</div><div class='cd'>    protected function remove(int $code)    </div></li><li><div class='no'>114</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>115</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>116</div><div class='cd'>    </div></li><li><div class='no'>117</div><div class='cd'>        $deleted = false;</div></li></ul> </section>
 <section class='prb' id='p-11'> <header> <h3> <a href='#p-11' class='indx'>#12</a> Avoid unused local variables such as &#039;<span class='hlt-info variable'>$deleted</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedlocalvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-11-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-11-code'><li><div class='no'>115</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>116</div><div class='cd'>    </div></li><li class='hlt'><div class='no'>117</div><div class='cd'>        $deleted = false;</div></li><li><div class='no'>118</div><div class='cd'>        $dataGateway = &#039;Librarian\Model\\&#039; .  match($storageFormat){</div></li><li><div class='no'>119</div><div class='cd'>            &#039;txt&#039; =&gt; &#039;Filesystem\AuthorPlainText&#039;,</div></li></ul> </section>
 <section class='prb' id='p-12'> <header> <h3> <a href='#p-12' class='indx'>#13</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getAuthorFinder&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-12-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-12-code'><li><div class='no'>161</div><div class='cd'>    public function getAuthorFinder(): FinderInterface</div></li><li><div class='no'>162</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>163</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>164</div><div class='cd'>        switch($storageFormat){</div></li><li><div class='no'>165</div><div class='cd'>            case &#039;txt&#039;:</div></li></ul> </section>
 <section class='prb' id='p-13'> <header> <h3> <a href='#p-13' class='indx'>#14</a> Missing class import via use statement (line &#039;176&#039;, column &#039;19&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Author.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Author.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-13-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-13-code'><li><div class='no'>174</div><div class='cd'>                return new AuthorCollectionFinder();</div></li><li><div class='no'>175</div><div class='cd'>        }</div></li><li class='hlt'><div class='no'>176</div><div class='cd'>        throw new \Exception(&#039;invalid storage format&#039;);</div></li><li><div class='no'>177</div><div class='cd'>    }    </div></li><li><div class='no'>178</div><div class='cd'>}</div></li></ul> </section>
 <section class='prb' id='p-14'> <header> <h3> <a href='#p-14' class='indx'>#15</a> The class Book has a coupling between objects value of 14. Consider to reduce the number of dependencies under 13. <a class='info-lnk' href='https://phpmd.org/rules/design.html#couplingbetweenobjects' target='_blank'>(help)</a> <span class='prio'>High (2)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-14-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-14-code'><li><div class='no'>17</div><div class='cd'> * @license LGPL-3.0 license &lt;https://www.gnu.org/licenses/lgpl-3.0.html.en&gt;</div></li><li><div class='no'>18</div><div class='cd'> */</div></li><li class='hlt'><div class='no'>19</div><div class='cd'>class Book extends AbstractPageController</div></li><li><div class='no'>20</div><div class='cd'>{</div></li><li><div class='no'>21</div><div class='cd'>    protected BookModel $book;</div></li></ul> </section>
 <section class='prb' id='p-15'> <header> <h3> <a href='#p-15' class='indx'>#16</a> edit accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-15-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-15-code'><li><div class='no'>26</div><div class='cd'>    }</div></li><li><div class='no'>27</div><div class='cd'></div></li><li class='hlt'><div class='no'>28</div><div class='cd'>    public function edit(): void</div></li><li><div class='no'>29</div><div class='cd'>    {</div></li><li><div class='no'>30</div><div class='cd'>        $code = $_GET[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-16'> <header> <h3> <a href='#p-16' class='indx'>#17</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-16-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-16-code'><li><div class='no'>32</div><div class='cd'>    }</div></li><li><div class='no'>33</div><div class='cd'></div></li><li class='hlt'><div class='no'>34</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>35</div><div class='cd'>    {</div></li><li><div class='no'>36</div><div class='cd'>        $code = (int) ($_POST[&#039;code&#039;] ?? 0);</div></li></ul> </section>
 <section class='prb' id='p-17'> <header> <h3> <a href='#p-17' class='indx'>#18</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-17-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-17-code'><li><div class='no'>32</div><div class='cd'>    }</div></li><li><div class='no'>33</div><div class='cd'></div></li><li class='hlt'><div class='no'>34</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>35</div><div class='cd'>    {</div></li><li><div class='no'>36</div><div class='cd'>        $code = (int) ($_POST[&#039;code&#039;] ?? 0);</div></li></ul> </section>
 <section class='prb' id='p-18'> <header> <h3> <a href='#p-18' class='indx'>#19</a> save accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-18-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-18-code'><li><div class='no'>32</div><div class='cd'>    }</div></li><li><div class='no'>33</div><div class='cd'></div></li><li class='hlt'><div class='no'>34</div><div class='cd'>    public function save(): void</div></li><li><div class='no'>35</div><div class='cd'>    {</div></li><li><div class='no'>36</div><div class='cd'>        $code = (int) ($_POST[&#039;code&#039;] ?? 0);</div></li></ul> </section>
 <section class='prb' id='p-19'> <header> <h3> <a href='#p-19' class='indx'>#20</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;insert&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-19-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-19-code'><li><div class='no'>56</div><div class='cd'>    protected function insert($title, $authorCode): bool</div></li><li><div class='no'>57</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>58</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;); </div></li><li><div class='no'>59</div><div class='cd'>        $dataGateway = &#039;Librarian\Model\\&#039; .  match($storageFormat){</div></li><li><div class='no'>60</div><div class='cd'>            &#039;txt&#039; =&gt; &#039;Filesystem\BookPlainText&#039;,</div></li></ul> </section>
 <section class='prb' id='p-20'> <header> <h3> <a href='#p-20' class='indx'>#21</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-20-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-20-code'><li><div class='no'>73</div><div class='cd'>    protected function update($code, $title, $authorCode): bool</div></li><li><div class='no'>74</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>75</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>76</div><div class='cd'>    </div></li><li><div class='no'>77</div><div class='cd'>        $data = [</div></li></ul> </section>
 <section class='prb' id='p-21'> <header> <h3> <a href='#p-21' class='indx'>#22</a> delete accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-21-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-21-code'><li><div class='no'>93</div><div class='cd'>    }</div></li><li><div class='no'>94</div><div class='cd'></div></li><li class='hlt'><div class='no'>95</div><div class='cd'>    public function delete()</div></li><li><div class='no'>96</div><div class='cd'>    {</div></li><li><div class='no'>97</div><div class='cd'>        $code = $_GET[&#039;code&#039;] ?? 0;</div></li></ul> </section>
 <section class='prb' id='p-22'> <header> <h3> <a href='#p-22' class='indx'>#23</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;remove&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-22-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-22-code'><li><div class='no'>108</div><div class='cd'>    protected function remove(int $code)    </div></li><li><div class='no'>109</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>110</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>111</div><div class='cd'>    </div></li><li><div class='no'>112</div><div class='cd'>        $deleted = false;</div></li></ul> </section>
 <section class='prb' id='p-23'> <header> <h3> <a href='#p-23' class='indx'>#24</a> Avoid unused local variables such as &#039;<span class='hlt-info variable'>$deleted</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedlocalvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-23-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-23-code'><li><div class='no'>110</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>111</div><div class='cd'>    </div></li><li class='hlt'><div class='no'>112</div><div class='cd'>        $deleted = false;</div></li><li><div class='no'>113</div><div class='cd'>        $dataGateway = &#039;Librarian\Model\\&#039; .  match($storageFormat){</div></li><li><div class='no'>114</div><div class='cd'>            &#039;txt&#039; =&gt; &#039;Filesystem\BookPlainText&#039;,</div></li></ul> </section>
 <section class='prb' id='p-24'> <header> <h3> <a href='#p-24' class='indx'>#25</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getBookFinder&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-24-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-24-code'><li><div class='no'>159</div><div class='cd'>    protected function getBookFinder(): FinderInterface</div></li><li><div class='no'>160</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>161</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>162</div><div class='cd'>        switch($storageFormat){</div></li><li><div class='no'>163</div><div class='cd'>            case &#039;txt&#039;:</div></li></ul> </section>
 <section class='prb' id='p-25'> <header> <h3> <a href='#p-25' class='indx'>#26</a> Missing class import via use statement (line &#039;174&#039;, column &#039;19&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/Book.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/<span class='path-basename'>Book.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-25-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-25-code'><li><div class='no'>172</div><div class='cd'>                return new BookCollectionFinder();</div></li><li><div class='no'>173</div><div class='cd'>        }</div></li><li class='hlt'><div class='no'>174</div><div class='cd'>        throw new \Exception(&#039;invalid storage format&#039;);</div></li><li><div class='no'>175</div><div class='cd'>    }    </div></li><li><div class='no'>176</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-26'> <header> <h3> <a href='#p-26' class='indx'>#27</a> run accesses the super-global variable <span class='hlt-info variable'>$_SERVER</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-26-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-26-code'><li><div class='no'>7</div><div class='cd'>abstract class AbstractRESTController</div></li><li><div class='no'>8</div><div class='cd'>{</div></li><li class='hlt'><div class='no'>9</div><div class='cd'>    public function run(string $action)</div></li><li><div class='no'>10</div><div class='cd'>    {</div></li><li><div class='no'>11</div><div class='cd'>        $response = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-27'> <header> <h3> <a href='#p-27' class='indx'>#28</a> run accesses the super-global variable <span class='hlt-info variable'>$_POST</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-27-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-27-code'><li><div class='no'>7</div><div class='cd'>abstract class AbstractRESTController</div></li><li><div class='no'>8</div><div class='cd'>{</div></li><li class='hlt'><div class='no'>9</div><div class='cd'>    public function run(string $action)</div></li><li><div class='no'>10</div><div class='cd'>    {</div></li><li><div class='no'>11</div><div class='cd'>        $response = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-28'> <header> <h3> <a href='#p-28' class='indx'>#29</a> run accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-28-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-28-code'><li><div class='no'>7</div><div class='cd'>abstract class AbstractRESTController</div></li><li><div class='no'>8</div><div class='cd'>{</div></li><li class='hlt'><div class='no'>9</div><div class='cd'>    public function run(string $action)</div></li><li><div class='no'>10</div><div class='cd'>    {</div></li><li><div class='no'>11</div><div class='cd'>        $response = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-29'> <header> <h3> <a href='#p-29' class='indx'>#30</a> run accesses the super-global variable <span class='hlt-info variable'>$_GET</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-29-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-29-code'><li><div class='no'>7</div><div class='cd'>abstract class AbstractRESTController</div></li><li><div class='no'>8</div><div class='cd'>{</div></li><li class='hlt'><div class='no'>9</div><div class='cd'>    public function run(string $action)</div></li><li><div class='no'>10</div><div class='cd'>    {</div></li><li><div class='no'>11</div><div class='cd'>        $response = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-30'> <header> <h3> <a href='#p-30' class='indx'>#31</a> Avoid unused parameters such as &#039;<span class='hlt-info variable'>$action</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedformalparameter' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-30-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-30-code'><li><div class='no'>7</div><div class='cd'>abstract class AbstractRESTController</div></li><li><div class='no'>8</div><div class='cd'>{</div></li><li class='hlt'><div class='no'>9</div><div class='cd'>    public function run(string $action)</div></li><li><div class='no'>10</div><div class='cd'>    {</div></li><li><div class='no'>11</div><div class='cd'>        $response = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-31'> <header> <h3> <a href='#p-31' class='indx'>#32</a> The <span class='hlt-info method'>method run()</span> contains an exit expression. <a class='info-lnk' href='https://phpmd.org/rules/design.html#exitexpression' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/AbstractRESTController.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Controller/REST/<span class='path-basename'>AbstractRESTController.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-31-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-31-code'><li><div class='no'>29</div><div class='cd'>        header(&#039;Content-Type: application/json&#039;);</div></li><li><div class='no'>30</div><div class='cd'>        echo json_encode($response);</div></li><li class='hlt'><div class='no'>31</div><div class='cd'>        exit;</div></li><li><div class='no'>32</div><div class='cd'>    }</div></li><li><div class='no'>33</div><div class='cd'></div></li></ul> </section>
 <section class='prb' id='p-32'> <header> <h3> <a href='#p-32' class='indx'>#33</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getDataGateway&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/AuthorProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>AuthorProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-32-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-32-code'><li><div class='no'>10</div><div class='cd'>    private function getDataGateway(): object</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;); </div></li><li><div class='no'>13</div><div class='cd'>    </div></li><li><div class='no'>14</div><div class='cd'>        try {</div></li></ul> </section>
 <section class='prb' id='p-33'> <header> <h3> <a href='#p-33' class='indx'>#34</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getFinder&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/AuthorProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>AuthorProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-33-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-33-code'><li><div class='no'>39</div><div class='cd'>    public function getFinder(): FinderInterface</div></li><li><div class='no'>40</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>41</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>42</div><div class='cd'>        </div></li><li><div class='no'>43</div><div class='cd'>        try {</div></li></ul> </section>
 <section class='prb' id='p-34'> <header> <h3> <a href='#p-34' class='indx'>#35</a> Avoid unused local variables such as &#039;<span class='hlt-info variable'>$deleted</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedlocalvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/AuthorProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>AuthorProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-34-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-34-code'><li><div class='no'>78</div><div class='cd'>    {</div></li><li><div class='no'>79</div><div class='cd'>        try {</div></li><li class='hlt'><div class='no'>80</div><div class='cd'>            $deleted = ($this-&gt;getDataGateway())-&gt;delete($code);</div></li><li><div class='no'>81</div><div class='cd'>        } catch (\Throwable $th) {</div></li><li><div class='no'>82</div><div class='cd'>            $deleted = false;</div></li></ul> </section>
 <section class='prb' id='p-35'> <header> <h3> <a href='#p-35' class='indx'>#36</a> Avoid using undefined variables such as &#039;<span class='hlt-info variable'>$delete</span>&#039; which will lead to PHP notices. <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#undefinedvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/AuthorProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>AuthorProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-35-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-35-code'><li><div class='no'>82</div><div class='cd'>            $deleted = false;</div></li><li><div class='no'>83</div><div class='cd'>        }</div></li><li class='hlt'><div class='no'>84</div><div class='cd'>        return $delete;</div></li><li><div class='no'>85</div><div class='cd'>    }</div></li><li><div class='no'>86</div><div class='cd'>}</div></li></ul> </section>
 <section class='prb' id='p-36'> <header> <h3> <a href='#p-36' class='indx'>#37</a> Avoid unused local variables such as &#039;<span class='hlt-info variable'>$delete</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedlocalvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/AuthorProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>AuthorProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-36-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-36-code'><li><div class='no'>82</div><div class='cd'>            $deleted = false;</div></li><li><div class='no'>83</div><div class='cd'>        }</div></li><li class='hlt'><div class='no'>84</div><div class='cd'>        return $delete;</div></li><li><div class='no'>85</div><div class='cd'>    }</div></li><li><div class='no'>86</div><div class='cd'>}</div></li></ul> </section>
 <section class='prb' id='p-37'> <header> <h3> <a href='#p-37' class='indx'>#38</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getDataGateway&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/BookProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>BookProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-37-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-37-code'><li><div class='no'>10</div><div class='cd'>    private function getDataGateway(): object</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>13</div><div class='cd'>    </div></li><li><div class='no'>14</div><div class='cd'>        try {</div></li></ul> </section>
 <section class='prb' id='p-38'> <header> <h3> <a href='#p-38' class='indx'>#39</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getFinder&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/BookProxy.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>BookProxy.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-38-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-38-code'><li><div class='no'>38</div><div class='cd'>    public function getFinder(): FinderInterface</div></li><li><div class='no'>39</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>40</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>41</div><div class='cd'>        try {</div></li><li><div class='no'>42</div><div class='cd'>            $finder = match($storageFormat){</div></li></ul> </section>
 <section class='prb' id='p-39'> <header> <h3> <a href='#p-39' class='indx'>#40</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;clear&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Entity.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>Entity.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-39-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-39-code'><li><div class='no'>12</div><div class='cd'>    public static function clear(string $entity)</div></li><li><div class='no'>13</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>14</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>15</div><div class='cd'>    </div></li><li><div class='no'>16</div><div class='cd'>        $path = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-40'> <header> <h3> <a href='#p-40' class='indx'>#41</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getPathForFile&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Entity.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>Entity.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-40-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-40-code'><li><div class='no'>32</div><div class='cd'>    private static function getPathForFile(string $entity)</div></li><li><div class='no'>33</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>34</div><div class='cd'>        $storageFormat = Config::get(&#039;storage_format&#039;);</div></li><li><div class='no'>35</div><div class='cd'>    </div></li><li><div class='no'>36</div><div class='cd'>        $path = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-41'> <header> <h3> <a href='#p-41' class='indx'>#42</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getPathForFile&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Entity.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>Entity.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-41-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-41-code'><li><div class='no'>37</div><div class='cd'>        switch($storageFormat){</div></li><li><div class='no'>38</div><div class='cd'>            case &#039;txt&#039;:</div></li><li class='hlt'><div class='no'>39</div><div class='cd'>                $path = Config::get($entity . &#039;_plaintext_filepath&#039;);</div></li><li><div class='no'>40</div><div class='cd'>                break;</div></li><li><div class='no'>41</div><div class='cd'>            case &#039;csv&#039;:</div></li></ul> </section>
 <section class='prb' id='p-42'> <header> <h3> <a href='#p-42' class='indx'>#43</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getPathForFile&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Entity.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>Entity.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-42-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-42-code'><li><div class='no'>40</div><div class='cd'>                break;</div></li><li><div class='no'>41</div><div class='cd'>            case &#039;csv&#039;:</div></li><li class='hlt'><div class='no'>42</div><div class='cd'>                $path = Config::get($entity . &#039;_csv_filepath&#039;);</div></li><li><div class='no'>43</div><div class='cd'>                break;</div></li><li><div class='no'>44</div><div class='cd'>            case &#039;json&#039;:</div></li></ul> </section>
 <section class='prb' id='p-43'> <header> <h3> <a href='#p-43' class='indx'>#44</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getPathForFile&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Entity.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/<span class='path-basename'>Entity.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-43-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-43-code'><li><div class='no'>43</div><div class='cd'>                break;</div></li><li><div class='no'>44</div><div class='cd'>            case &#039;json&#039;:</div></li><li class='hlt'><div class='no'>45</div><div class='cd'>                $path = Config::get($entity . &#039;_json_filepath&#039;);</div></li><li><div class='no'>46</div><div class='cd'>        }</div></li><li><div class='no'>47</div><div class='cd'>        return $path;</div></li></ul> </section>
 <section class='prb' id='p-44'> <header> <h3> <a href='#p-44' class='indx'>#45</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-44-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-44-code'><li><div class='no'>10</div><div class='cd'>    public function save($lastName, $middleName, $firstName): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;author_csv_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a+&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        $code = 0;</div></li></ul> </section>
 <section class='prb' id='p-45'> <header> <h3> <a href='#p-45' class='indx'>#46</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-45-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-45-code'><li><div class='no'>40</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>41</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>42</div><div class='cd'>        $sourcePath = Config::get(&#039;author_csv_filepath&#039;);</div></li><li><div class='no'>43</div><div class='cd'>        $targetPath = str_replace(&#039;.csv&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>44</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-46'> <header> <h3> <a href='#p-46' class='indx'>#47</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-46-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-46-code'><li><div class='no'>79</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>80</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>81</div><div class='cd'>        $sourcePath = Config::get(&#039;author_csv_filepath&#039;);</div></li><li><div class='no'>82</div><div class='cd'>        $targetPath = str_replace(&#039;.csv&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>83</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-47'> <header> <h3> <a href='#p-47' class='indx'>#48</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorCSVFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorCSVFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-47-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-47-code'><li><div class='no'>16</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>17</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>18</div><div class='cd'>        $filepath = Config::get(&#039;author_csv_filepath&#039;);</div></li><li><div class='no'>19</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>20</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-48'> <header> <h3> <a href='#p-48' class='indx'>#49</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorCSVFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorCSVFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-48-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-48-code'><li><div class='no'>42</div><div class='cd'>    public function readAll(): AbstractRowSet</div></li><li><div class='no'>43</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>44</div><div class='cd'>        $filepath = Config::get(&#039;author_csv_filepath&#039;);</div></li><li><div class='no'>45</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>46</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-49'> <header> <h3> <a href='#p-49' class='indx'>#50</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-49-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-49-code'><li><div class='no'>10</div><div class='cd'>    public function save($lastName, $middleName, $firstName): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;author_json_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        fclose($handle);</div></li></ul> </section>
 <section class='prb' id='p-50'> <header> <h3> <a href='#p-50' class='indx'>#51</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-50-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-50-code'><li><div class='no'>43</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>44</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>45</div><div class='cd'>        $sourcePath = Config::get(&#039;author_json_filepath&#039;);</div></li><li><div class='no'>46</div><div class='cd'>        $content = file_get_contents($sourcePath);</div></li><li><div class='no'>47</div><div class='cd'>        $authors = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-51'> <header> <h3> <a href='#p-51' class='indx'>#52</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-51-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-51-code'><li><div class='no'>67</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>68</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>69</div><div class='cd'>        $sourcePath = Config::get(&#039;author_json_filepath&#039;);</div></li><li><div class='no'>70</div><div class='cd'>        $content = file_get_contents($sourcePath);</div></li><li><div class='no'>71</div><div class='cd'>        $authors = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-52'> <header> <h3> <a href='#p-52' class='indx'>#53</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorJSONFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorJSONFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-52-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-52-code'><li><div class='no'>15</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>16</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>17</div><div class='cd'>        $filepath = Config::get(&#039;author_json_filepath&#039;);</div></li><li><div class='no'>18</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>19</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-53'> <header> <h3> <a href='#p-53' class='indx'>#54</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorJSONFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorJSONFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-53-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-53-code'><li><div class='no'>38</div><div class='cd'>    public function readAll(): AbstractRowSet</div></li><li><div class='no'>39</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>40</div><div class='cd'>        $filepath = Config::get(&#039;author_json_filepath&#039;);</div></li><li><div class='no'>41</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>42</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-54'> <header> <h3> <a href='#p-54' class='indx'>#55</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-54-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-54-code'><li><div class='no'>10</div><div class='cd'>    public function save($lastName, $middleName, $firstName): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;author_plaintext_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a+&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        fseek($handle, -self::ROW_LENGTH, SEEK_END);</div></li></ul> </section>
 <section class='prb' id='p-55'> <header> <h3> <a href='#p-55' class='indx'>#56</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-55-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-55-code'><li><div class='no'>31</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>32</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>33</div><div class='cd'>        $sourcePath = Config::get(&#039;author_plaintext_filepath&#039;);</div></li><li><div class='no'>34</div><div class='cd'>        $targetPath = str_replace(&#039;.txt&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>35</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-56'> <header> <h3> <a href='#p-56' class='indx'>#57</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-56-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-56-code'><li><div class='no'>65</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>66</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>67</div><div class='cd'>        $sourcePath = Config::get(&#039;author_plaintext_filepath&#039;);</div></li><li><div class='no'>68</div><div class='cd'>        $targetPath = str_replace(&#039;.txt&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>69</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-57'> <header> <h3> <a href='#p-57' class='indx'>#58</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorPlainTextFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorPlainTextFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-57-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-57-code'><li><div class='no'>16</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>17</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>18</div><div class='cd'>        $filepath = Config::get(&#039;author_plaintext_filepath&#039;);</div></li><li><div class='no'>19</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>20</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-58'> <header> <h3> <a href='#p-58' class='indx'>#59</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/AuthorPlainTextFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>AuthorPlainTextFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-58-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-58-code'><li><div class='no'>42</div><div class='cd'>    public function readAll(): AbstractRowSet</div></li><li><div class='no'>43</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>44</div><div class='cd'>        $filepath = Config::get(&#039;author_plaintext_filepath&#039;);</div></li><li><div class='no'>45</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>46</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-59'> <header> <h3> <a href='#p-59' class='indx'>#60</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-59-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-59-code'><li><div class='no'>10</div><div class='cd'>    public function save(string $title, int $authorCode): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a+&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        $code = 0;</div></li></ul> </section>
 <section class='prb' id='p-60'> <header> <h3> <a href='#p-60' class='indx'>#61</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-60-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-60-code'><li><div class='no'>39</div><div class='cd'>    public function readByCode(int $code): array</div></li><li><div class='no'>40</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>41</div><div class='cd'>        $filepath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>42</div><div class='cd'>        $handle = fopen($filepath,&#039;r&#039;);</div></li><li><div class='no'>43</div><div class='cd'>        $book = [];</div></li></ul> </section>
 <section class='prb' id='p-61'> <header> <h3> <a href='#p-61' class='indx'>#62</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-61-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-61-code'><li><div class='no'>60</div><div class='cd'>    public function readAll(): array</div></li><li><div class='no'>61</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>62</div><div class='cd'>        $filepath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>63</div><div class='cd'>        $handle = fopen($filepath,&#039;r&#039;);</div></li><li><div class='no'>64</div><div class='cd'>        $books = [];</div></li></ul> </section>
 <section class='prb' id='p-62'> <header> <h3> <a href='#p-62' class='indx'>#63</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-62-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-62-code'><li><div class='no'>79</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>80</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>81</div><div class='cd'>        $sourcePath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>82</div><div class='cd'>        $targetPath = str_replace(&#039;.csv&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>83</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-63'> <header> <h3> <a href='#p-63' class='indx'>#64</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSV.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSV.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-63-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-63-code'><li><div class='no'>116</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>117</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>118</div><div class='cd'>        $sourcePath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>119</div><div class='cd'>        $targetPath = str_replace(&#039;.csv&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>120</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-64'> <header> <h3> <a href='#p-64' class='indx'>#65</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSVFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSVFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-64-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-64-code'><li><div class='no'>17</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>18</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>19</div><div class='cd'>        $filepath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>20</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>21</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-65'> <header> <h3> <a href='#p-65' class='indx'>#66</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookCSVFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookCSVFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-65-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-65-code'><li><div class='no'>42</div><div class='cd'>    public function readAll(): AbstractRowSet</div></li><li><div class='no'>43</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>44</div><div class='cd'>        $filepath = Config::get(&#039;book_csv_filepath&#039;);</div></li><li><div class='no'>45</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>46</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-66'> <header> <h3> <a href='#p-66' class='indx'>#67</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-66-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-66-code'><li><div class='no'>10</div><div class='cd'>    public function save(string $title, int $authorCode): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        fclose($handle);</div></li></ul> </section>
 <section class='prb' id='p-67'> <header> <h3> <a href='#p-67' class='indx'>#68</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-67-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-67-code'><li><div class='no'>42</div><div class='cd'>    public function readByCode(int $code): array</div></li><li><div class='no'>43</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>44</div><div class='cd'>        $filepath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>45</div><div class='cd'>        $content = file_get_contents($filepath);</div></li><li><div class='no'>46</div><div class='cd'>        $books = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-68'> <header> <h3> <a href='#p-68' class='indx'>#69</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-68-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-68-code'><li><div class='no'>56</div><div class='cd'>    function readAll(): array</div></li><li><div class='no'>57</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>58</div><div class='cd'>        $filepath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>59</div><div class='cd'>        $content = file_get_contents($filepath);</div></li><li><div class='no'>60</div><div class='cd'>        $books = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-69'> <header> <h3> <a href='#p-69' class='indx'>#70</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-69-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-69-code'><li><div class='no'>68</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>69</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>70</div><div class='cd'>        $sourcePath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>71</div><div class='cd'>        $content = file_get_contents($sourcePath);</div></li><li><div class='no'>72</div><div class='cd'>        $books = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-70'> <header> <h3> <a href='#p-70' class='indx'>#71</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSON.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSON.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-70-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-70-code'><li><div class='no'>91</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>92</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>93</div><div class='cd'>        $sourcePath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>94</div><div class='cd'>        $content = file_get_contents($sourcePath);</div></li><li><div class='no'>95</div><div class='cd'>        $books = json_decode($content);</div></li></ul> </section>
 <section class='prb' id='p-71'> <header> <h3> <a href='#p-71' class='indx'>#72</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSONFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSONFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-71-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-71-code'><li><div class='no'>17</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>18</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>19</div><div class='cd'>        $filepath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>20</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>21</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-72'> <header> <h3> <a href='#p-72' class='indx'>#73</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookJSONFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookJSONFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-72-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-72-code'><li><div class='no'>39</div><div class='cd'>    function readAll(): AbstractRowSet</div></li><li><div class='no'>40</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>41</div><div class='cd'>        $filepath = Config::get(&#039;book_json_filepath&#039;);</div></li><li><div class='no'>42</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>43</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-73'> <header> <h3> <a href='#p-73' class='indx'>#74</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;save&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-73-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-73-code'><li><div class='no'>10</div><div class='cd'>    public function save(string $title, int $authorCode): bool</div></li><li><div class='no'>11</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>12</div><div class='cd'>        $filepath = Config::get(&#039;book_plaintext_filepath&#039;);</div></li><li><div class='no'>13</div><div class='cd'>        $handle = fopen($filepath,&#039;a+&#039;);</div></li><li><div class='no'>14</div><div class='cd'>        fseek($handle, -self::ROW_LENGTH, SEEK_END);</div></li></ul> </section>
 <section class='prb' id='p-74'> <header> <h3> <a href='#p-74' class='indx'>#75</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;update&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-74-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-74-code'><li><div class='no'>31</div><div class='cd'>    public function update(int $code, array $data): bool</div></li><li><div class='no'>32</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>33</div><div class='cd'>        $sourcePath = Config::get(&#039;book_plaintext_filepath&#039;);</div></li><li><div class='no'>34</div><div class='cd'>        $targetPath = str_replace(&#039;.txt&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>35</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-75'> <header> <h3> <a href='#p-75' class='indx'>#76</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;delete&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookPlainText.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookPlainText.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-75-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-75-code'><li><div class='no'>64</div><div class='cd'>    public function delete(int $code): bool</div></li><li><div class='no'>65</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>66</div><div class='cd'>        $sourcePath = Config::get(&#039;book_plaintext_filepath&#039;);</div></li><li><div class='no'>67</div><div class='cd'>        $targetPath = str_replace(&#039;.txt&#039;,&#039;.tmp&#039;,$sourcePath);</div></li><li><div class='no'>68</div><div class='cd'>        $sourceHandle = fopen($sourcePath,&#039;r&#039;);</div></li></ul> </section>
 <section class='prb' id='p-76'> <header> <h3> <a href='#p-76' class='indx'>#77</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readByCode&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookPlainTextFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookPlainTextFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-76-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-76-code'><li><div class='no'>17</div><div class='cd'>    public function readByCode(int $code): AbstractCode</div></li><li><div class='no'>18</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>19</div><div class='cd'>        $filepath = Config::get(&#039;book_plaintext_filepath&#039;);</div></li><li><div class='no'>20</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>21</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-77'> <header> <h3> <a href='#p-77' class='indx'>#78</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;readAll&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/BookPlainTextFinder.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/Filesystem/<span class='path-basename'>BookPlainTextFinder.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-77-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-77-code'><li><div class='no'>42</div><div class='cd'>    public function readAll(): AbstractRowSet</div></li><li><div class='no'>43</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>44</div><div class='cd'>        $filepath = Config::get(&#039;book_plaintext_filepath&#039;);</div></li><li><div class='no'>45</div><div class='cd'>        if (!file_exists($filepath)){</div></li><li><div class='no'>46</div><div class='cd'>            $handle = fopen($filepath,&#039;w&#039;);</div></li></ul> </section>
 <section class='prb' id='p-78'> <header> <h3> <a href='#p-78' class='indx'>#79</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;getConnection&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/Collection.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/<span class='path-basename'>Collection.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-78-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-78-code'><li><div class='no'>1</div><div class='cd'>&lt;?php</div></li><li><div class='no'>2</div><div class='cd'>namespace Librarian\Model\ODM;</div></li><li><div class='no'>3</div><div class='cd'>use Librarian\Util\Config;</div></li><li><div class='no'>4</div><div class='cd'>/**</div></li><li><div class='no'>5</div><div class='cd'> * @author Flávio Gomes da Silva Lisboa</div></li></ul> </section>
 <section class='prb' id='p-79'> <header> <h3> <a href='#p-79' class='indx'>#80</a> Missing class import via use statement (line &#039;28&#039;, column &#039;22&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/Collection.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/<span class='path-basename'>Collection.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-79-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-79-code'><li><div class='no'>26</div><div class='cd'>    {   </div></li><li><div class='no'>27</div><div class='cd'>        $database = Config::get(&#039;db&#039;)[&#039;database&#039;];</div></li><li class='hlt'><div class='no'>28</div><div class='cd'>        $mongo = new \MongoDB\Client(&quot;mongodb://localhost:27017&quot;);</div></li><li><div class='no'>29</div><div class='cd'>        return $mongo-&gt;$database;</div></li><li><div class='no'>30</div><div class='cd'>    }    </div></li></ul> </section>
 <section class='prb' id='p-80'> <header> <h3> <a href='#p-80' class='indx'>#81</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;initDatabase&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/CollectionTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/<span class='path-basename'>CollectionTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-80-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-80-code'><li><div class='no'>1</div><div class='cd'>&lt;?php</div></li><li><div class='no'>2</div><div class='cd'>namespace Librarian\Model\ODM;</div></li><li><div class='no'>3</div><div class='cd'>use Librarian\Util\Config;</div></li><li><div class='no'>4</div><div class='cd'>/**</div></li><li><div class='no'>5</div><div class='cd'> * @author Flávio Gomes da Silva Lisboa</div></li></ul> </section>
 <section class='prb' id='p-81'> <header> <h3> <a href='#p-81' class='indx'>#82</a> Missing class import via use statement (line &#039;15&#039;, column &#039;22&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/CollectionTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ODM/<span class='path-basename'>CollectionTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-81-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-81-code'><li><div class='no'>13</div><div class='cd'>    {</div></li><li><div class='no'>14</div><div class='cd'>        $database = Config::get(&#039;db&#039;)[&#039;database&#039;]; </div></li><li class='hlt'><div class='no'>15</div><div class='cd'>        $mongo = new \MongoDB\Client(&quot;mongodb://localhost:27017&quot;);</div></li><li><div class='no'>16</div><div class='cd'>        $this-&gt;database = $mongo-&gt;$database;</div></li><li><div class='no'>17</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-82'> <header> <h3> <a href='#p-82' class='indx'>#83</a> Avoid unused parameters such as &#039;<span class='hlt-info variable'>$code</span>&#039;. <a class='info-lnk' href='https://phpmd.org/rules/unusedcode.html#unusedformalparameter' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/BookTableGateway.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>BookTableGateway.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-82-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-82-code'><li><div class='no'>36</div><div class='cd'>    }</div></li><li><div class='no'>37</div><div class='cd'>    </div></li><li class='hlt'><div class='no'>38</div><div class='cd'>    public function update(int $code, array $data)</div></li><li><div class='no'>39</div><div class='cd'>    {        </div></li><li><div class='no'>40</div><div class='cd'>        $placeholders = &#039;&#039;;</div></li></ul> </section>
 <section class='prb' id='p-83'> <header> <h3> <a href='#p-83' class='indx'>#84</a> Avoid variables with short names like <span class='hlt-info variable'>$db</span>. Configured minimum length is 3. <a class='info-lnk' href='https://phpmd.org/rules/naming.html#shortvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/DatabaseTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>DatabaseTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-83-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-83-code'><li><div class='no'>12</div><div class='cd'>    public function initDatabase()</div></li><li><div class='no'>13</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>14</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li><div class='no'>15</div><div class='cd'>        $this-&gt;pdo = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>16</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-84'> <header> <h3> <a href='#p-84' class='indx'>#85</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;initDatabase&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/DatabaseTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>DatabaseTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-84-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-84-code'><li><div class='no'>12</div><div class='cd'>    public function initDatabase()</div></li><li><div class='no'>13</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>14</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li><div class='no'>15</div><div class='cd'>        $this-&gt;pdo = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>16</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-85'> <header> <h3> <a href='#p-85' class='indx'>#86</a> Avoid variables with short names like <span class='hlt-info variable'>$db</span>. Configured minimum length is 3. <a class='info-lnk' href='https://phpmd.org/rules/naming.html#shortvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/DatabaseTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>DatabaseTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-85-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-85-code'><li><div class='no'>12</div><div class='cd'>    public function initDatabase()</div></li><li><div class='no'>13</div><div class='cd'>    {</div></li><li class='hlt'><div class='no'>14</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li><div class='no'>15</div><div class='cd'>        $this-&gt;pdo = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>16</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-86'> <header> <h3> <a href='#p-86' class='indx'>#87</a> Missing class import via use statement (line &#039;15&#039;, column &#039;26&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/DatabaseTrait.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>DatabaseTrait.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-86-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-86-code'><li><div class='no'>13</div><div class='cd'>    {</div></li><li><div class='no'>14</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li class='hlt'><div class='no'>15</div><div class='cd'>        $this-&gt;pdo = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>16</div><div class='cd'>    }</div></li><li><div class='no'>17</div><div class='cd'>}</div></li></ul> </section>
 <section class='prb' id='p-87'> <header> <h3> <a href='#p-87' class='indx'>#88</a> Avoid using static access to class &#039;\Librarian\Util\Config&#039; in <span class='hlt-info method'>method &#039;__construct&#039;.</span> <a class='info-lnk' href='https://phpmd.org/rules/cleancode.html#staticaccess' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/Table.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>Table.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-87-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-87-code'><li><div class='no'>15</div><div class='cd'>    {</div></li><li><div class='no'>16</div><div class='cd'>        $this-&gt;table = $table;</div></li><li class='hlt'><div class='no'>17</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li><div class='no'>18</div><div class='cd'>        $this-&gt;connection = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>19</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-88'> <header> <h3> <a href='#p-88' class='indx'>#89</a> Avoid variables with short names like <span class='hlt-info variable'>$db</span>. Configured minimum length is 3. <a class='info-lnk' href='https://phpmd.org/rules/naming.html#shortvariable' target='_blank'>(help)</a> <span class='prio'>Moderate (3)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/Table.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>Table.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-88-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-88-code'><li><div class='no'>15</div><div class='cd'>    {</div></li><li><div class='no'>16</div><div class='cd'>        $this-&gt;table = $table;</div></li><li class='hlt'><div class='no'>17</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li><div class='no'>18</div><div class='cd'>        $this-&gt;connection = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>19</div><div class='cd'>    }</div></li></ul> </section>
 <section class='prb' id='p-89'> <header> <h3> <a href='#p-89' class='indx'>#90</a> Missing class import via use statement (line &#039;18&#039;, column &#039;33&#039;). <a class='info-lnk' href='http://phpmd.org/rules/cleancode.html#MissingImport' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/Table.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Model/ORM/<span class='path-basename'>Table.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-89-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-89-code'><li><div class='no'>16</div><div class='cd'>        $this-&gt;table = $table;</div></li><li><div class='no'>17</div><div class='cd'>        $db = Config::get(&#039;db&#039;);</div></li><li class='hlt'><div class='no'>18</div><div class='cd'>        $this-&gt;connection = new \PDO($db[&#039;dsn&#039;], $db[&#039;username&#039;], $db[&#039;password&#039;]);</div></li><li><div class='no'>19</div><div class='cd'>    }</div></li><li><div class='no'>20</div><div class='cd'>    </div></li></ul> </section>
 <section class='prb' id='p-90'> <header> <h3> <a href='#p-90' class='indx'>#91</a> stop accesses the super-global variable <span class='hlt-info variable'>$_SERVER</span>. <a class='info-lnk' href='#' target='_blank'>(help)</a> <span class='prio'>Top (1)</span> </h3> </header> <div class='sub-info'><b>File:</b> <a href='file:///media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Test/PHPServer.php' target='_blank'>/media/fgsl/hdd/masteringtestdrivenphp/chapter10/librarian/src/Test/<span class='path-basename'>PHPServer.php</span></a> <a class='info-lnk blck' href='#' onclick='toggle("p-90-code"); return false;'> Show code &#x25BC; </a></div> <ul class='code hidden' id='p-90-code'><li><div class='no'>43</div><div class='cd'>    }</div></li><li><div class='no'>44</div><div class='cd'></div></li><li class='hlt'><div class='no'>45</div><div class='cd'>    public function stop(): bool</div></li><li><div class='no'>46</div><div class='cd'>    {</div></li><li><div class='no'>47</div><div class='cd'>        $argv = $_SERVER[&#039;argv&#039;];</div></li></ul> </section>
</div></body></html>